<app-header></app-header>

<section class="page-header">
    <div class="page-header__bg" style="background-image: url(assets/images/shapes/page-header-bg-shape.png);">
    </div>
    <div class="page-header__shape-4">
        <img src="assets/images/shapes/page-header-shape-4.png" alt="">
    </div>
    <div class="page-header__shape-5">
        <img src="assets/images/shapes/page-header-shape-5.png" alt="">
    </div>
    <div class="page-header__social">
        <a href="#">Facebook</a>
        <span>//</span>
        <a href="#">Instagram</a>
        <span>//</span>
        <a href="#">LinkedIn</a>
        <span>//</span>
        <a href="#">Twitter</a>
    </div>
    <div class="container">
        <div class="page-header__inner">
            <div class="page-header__img">
                <img src="assets/images/resources/page-header-img-1.png" alt="">
                <div class="page-header__shape-1">
                    <img src="assets/images/shapes/page-header-shape-1.png" alt="">
                </div>
                <div class="page-header__shape-2">
                    <img src="assets/images/shapes/la-securite-sur-internet.png" alt="">
                </div>
                <div class="page-header__shape-3">
                    <img src="assets/images/shapes/la-cyber-securite.png" alt="">
                </div>
            </div>
            <h2>Signalements et Assistance</h2>
            <div class="thm-breadcrumb__box">
                <ul class="thm-breadcrumb list-unstyled">
                    <li><a href="index.html">Accueil</a></li>
                    <li><span>//</span></li>
                    <li>Signalements et Assistance</li>
                </ul>
            </div>
        </div>
    </div>
</section>
        <!--Page Header Start-->

        <!--Page Header End-->

        <!--Course List Start-->
        <section class="course-list">
            <div class="container">
                <div class="row">
                    <div class="col-xl-4">
                        <div class="course-grid__left">
                            <div class="course-grid__sidebar">
                                <div class="course-grid__search course-grid__single">
                                    <div class="course-grid__title-box">
                                        <h3 class="course-grid__title">Rechercher des signalements</h3>
                                        <div class="course-grid__title-shape-1">
                                            <img src="assets/images/shapes/course-grid-title-shape-1.png" alt="">
                                        </div>
                                    </div>
                                    <p class="course-grid__search-text">Recherchez des signalements </p>
                                    <form (submit)="onSearch($event)">
                                        <input type="search" placeholder="Rechercher des signalements" [(ngModel)]="searchQuery" name="searchQuery" (ngModelChange)="onSearchS()">
                                        <button type="submit"><i class="icon-search"></i></button>
                                    </form>
                                </div>
                             <div class="course-grid__price-filter course-grid__single">
                                    <div class="course-grid__title-box">
                                        <h3 class="course-grid__title">Catégories</h3>
                                        <div class="course-grid__title-shape-1">
                                            <img src="assets/images/shapes/course-grid-title-shape-1.png" alt="">
                                        </div>
                                    </div>
                                    <div class="course-grid__price-filter-free-and-paid-course">

                                        <label class="custom-radio" *ngFor="let category of categories">
                                            <input type="radio" name="myRadios" [value]="category.id" (change)="onCategorySelect(category.id)" [checked]="selectedCategoryId == category.id">
                                            <span class="radio-dot"></span>
                                            <span class="radio-text">{{category.name}}</span>
                                        </label>
                                        <label class="custom-radio">
                                            <input type="radio" name="myRadios" value="" (change)="onCategorySelect('')" [checked]="selectedCategoryId == null">
                                            <span class="radio-dot"></span>
                                            <span class="radio-text">Tous</span>
                                        </label>
                                    </div>
                                </div> 
<!--                                 <div class="course-grid__categories course-grid__single">
                                    <div class="course-grid__title-box">
                                        <h3 class="course-grid__title">Catégories</h3>
                                        <div class="course-grid__title-shape-1">
                                            <img src="assets/images/shapes/course-grid-title-shape-1.png" alt="">
                                        </div>
                                    </div>

                                    <ul class="list-unstyled course-grid__list-item course-grid__price-filter-free-and-paid-course"  >
                                        <li *ngFor="let category of categories" class="custom-radio">
                                            <input type="radio" name="myRadios" [value]="category.id" (change)="onCategorySelect(category.id)" [checked]="selectedCategoryId === category.id">
                                            <span class="radio-dot"></span>
                                            <p class="course-grid__list-text">{{category.name}}</p>
                                        </li>

                                    </ul>
                                </div> -->
<!--                                 <div class="course-grid__skill course-grid__single">
                                    <div class="course-grid__title-box">
                                        <h3 class="course-grid__title">Skills Level</h3>
                                        <div class="course-grid__title-shape-1">
                                            <img src="assets/images/shapes/course-grid-title-shape-1.png" alt="">
                                        </div>
                                    </div>
                                    <ul class="list-unstyled course-grid__list-item">
                                        <li>
                                            <div class="course-grid__list-check"></div>
                                            <p class="course-grid__list-text">All Level (290)</p>
                                        </li>
                                        <li>
                                            <div class="course-grid__list-check"></div>
                                            <p class="course-grid__list-text">Intermediate (230)</p>
                                        </li>
                                        <li>
                                            <div class="course-grid__list-check"></div>
                                            <p class="course-grid__list-text">Beginner (40)</p>
                                        </li>
                                        <li>
                                            <div class="course-grid__list-check"></div>
                                            <p class="course-grid__list-text">Free Seminar (300)</p>
                                        </li>
                                        <li>
                                            <div class="course-grid__list-check"></div>
                                            <p class="course-grid__list-text">Professional (50)</p>
                                        </li>
                                        <li>
                                            <div class="course-grid__list-check"></div>
                                            <p class="course-grid__list-text">Advanced (30)</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="course-grid__discount course-grid__single">
                                    <div class="course-grid__discount-shape-bg"
                                        style="background-image: url(assets/images/shapes/course-grid-discount-shape-bg.png);">
                                    </div>
                                    <h4 class="course-grid__discount-title">20% Discount</h4>
                                    <p class="course-grid__discount-text">is simply dummy text of the printing <br> and
                                        typesetting industry</p>
                                    <div class="course-grid__discount-img">
                                        <img src="assets/images/resources/course-grid-discount-img-1.png" alt="">
                                    </div>
                                    <div class="course-grid__discount-coupon">
                                        <p>Use Coupon</p>
                                        <h5>#FuStudy56</h5>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-8">
                        <div class="course-list__right">
                            <div class="course-list__right-top">
                                <p class="course-list__right-top-text">Affichage de {{ reports.length }} rapports</p>
                            </div>
                            <!--Course List Single Start-->
                            <div *ngIf="reports.length === 0">
                                <p>Aucun rapport trouvé pour cette catégorie.</p>
                            </div>
                            <div class="row">
                                <div class="col-xl-6" *ngFor="let report of reports">
                                    <div class="blog-two__single">
                                        <div class="blog-two__img" style="
                                        height: 200px;
                                        object-fit: cover;
                                    ">
                                            <img [src]="report.media[0]?.file_path" alt="" style="
                                            height: 300px;
                                            object-fit: cover;
                                        ">                                        <div class="blog-two__date">
                                                <span class="icon-calendar"></span>
                                                <p>{{ report.updated_at | date:'dd/MM/yyyy' }}</p>
                                            </div>
                                        </div>
                                        <div class="blog-two__content">
                                            <div class="blog-two__meta-box">
                                                <ul class="blog-two__meta list-unstyled">
                                                    <li>
                                                        <a href="blog-details.html"><span class="icon-tags"></span>{{ report.category_name }}</a>
                                                    </li>
                                                    <li>
                                                        <a href="blog-details.html"><span class="icon-clock"></span>{{ report.updated_at | date:'HH:mm' }}</a>
                                                    </li>

                                                </ul>
                                            </div>
                                            <h4 class="blog-two__title"><a href="blog-details.html">{{ report.title | slice:0:50 }}{{ report.title.length > 50 ? '...' : '' }}</a></h4>
                                            <p class="blog-two__text"  style="
                                            height: 81px;
                                        ">{{ report.description | slice:0:100 }}{{ report.description.length > 100 ? '...' : '' }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--Course List Single End-->
                            <div *ngIf="reports.length > 0" class="blog-list__pagination">
                                <ul class="pg-pagination list-unstyled">
                                    <li class="prev">
                                        <a href="#" (click)="changePage(currentPage - 1)" aria-label="Précédent"><i class="fas fa-arrow-left"></i></a>
                                    </li>
                                    <li class="count" *ngFor="let page of totalPagesArray" [class.active]="page === currentPage">
                                        <a href="#" (click)="changePage(page)">{{ page }}</a>
                                    </li>
                                    <li class="next">
                                        <a href="#" (click)="changePage(currentPage + 1)" aria-label="Suivant"><i class="fas fa-arrow-right"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--Course List End-->


<app-footer></app-footer>
<app-preloader></app-preloader>